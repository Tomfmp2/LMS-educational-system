<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="icon" href="/assets/icons/bloquear3.svg" type="image/png">
    <title>Cursos ABC</title>
</head>
<body>
    <header-global id="header-home"></header-global>
    <section id="section-home">
        <div id="floating-image">
            <h1 >Bienvenido a ABC</h1>
            <p>Descubre tu potencial, supera tus límites y prepárate para conquistar el futuro—estudia aquí y haz que tus sueños sean realidad. <strong>¡Tu mejor versión comienza hoy!</strong></p>
            <input type="button" value="Cursos"/>
        </div>
        <div></div>
        <h2 id="text-guia-cursos-disponibles">Cursos Disponibles</h2>
        <div id="content-cursos-destacados">
            <section class="seccion-destacada">
                <a class="link-apartado-cursos" href="#">Mas Populares</a>
                <a href="https://www.youtube.com" class="card-curso" >
                    <img class="portada-curso" src="" alt="portada curso">
                    <div class="text-card-curso">
                        <h2>Curso JavaScript</h2>
                        <strong class="text-destacable-cards">Certificado </strong>
                        <strong class="text-destacable-cards">Disponible</strong>
                    </div>
                </a>
                <a href="#" class="card-curso" >
                    <img class="portada-curso" src="https://1drv.ms/i/c/a7e9bce9bc70cf88/EasdYYTdCHdMtH6_1jInFiMB-70tdFRONjj-y8L9by1PBA?e=88s9Kq" alt="portada curso">
                    <div class="text-card-curso">
                        <h2>Curso JavaScript</h2>
                        <strong class="text-destacable-cards">Certificado </strong>
                        <strong class="text-destacable-cards">Cupo Limitado</strong>
                    </div>
                </a>
                <a href="#" class="card-curso" >
                    <img class="portada-curso" src="/assets/img/experiencia-en-programacion-con-una-persona-que-trabaja-con-codigos-en-la-computadora.jpg" alt="portada curso">
                    <div class="text-card-curso">
                        <h2>Curso JavaScript</h2>
                        <strong class="text-destacable-cards">Certificado </strong>
                        <strong class="text-destacable-cards">Cupo Limitado</strong>
                    </div>
                </a>
            </section>
            <section class="seccion-destacada">
                <a class="link-apartado-cursos" href="#">Destacados de la Semana</a>
                <a href="#" class="card-curso" >
                    <img class="portada-curso" src="/assets/img/experiencia-en-programacion-con-una-persona-que-trabaja-con-codigos-en-la-computadora.jpg" alt="portada curso">
                    <div class="text-card-curso">
                        <h2>Curso JavaScript</h2>
                        <strong class="text-destacable-cards">Certificado </strong>
                        <strong class="text-destacable-cards">Disponible</strong>
                    </div>
                </a>
                <a href="#" class="card-curso" >
                    <img class="portada-curso" src="/assets/img/concepto-de-fondo-de-programacion.jpg" alt="portada curso">
                    <div class="text-card-curso">
                        <h2>Curso JavaScript</h2>
                        <strong class="text-destacable-cards">Certificado </strong>
                        <strong class="text-destacable-cards">Cupo Limitado</strong>
                    </div>
                </a>
                <a href="#" class="card-curso" >
                    <img class="portada-curso" src="/assets/img/concepto-de-collage-html-y-css-con-persona.jpg" alt="portada curso">
                    <div class="text-card-curso">
                        <h2>Curso JavaScript</h2>
                        <strong class="text-destacable-cards">Certificado </strong>
                        <strong class="text-destacable-cards">Disponible</strong>
                    </div>
                </a>
            </section>
            <section class="seccion-destacada">
                <a href="#" class="link-apartado-cursos">Nuevos Lanzamientos</a>
                <a href="#" class="card-curso" >
                    <img class="portada-curso" src="/assets/img/concepto-de-fondo-de-programacion.jpg" alt="portada curso">
                    <div class="text-card-curso">
                        <h2>Curso JavaScript</h2>
                        <strong class="text-destacable-cards">Certificado </strong>
                        <strong class="text-destacable-cards">Disponible</strong>   
                    </div>
                </a>
                <a href="#" class="card-curso" >
                    <img class="portada-curso" src="/assets/img/concepto-de-collage-html-y-css.jpg" alt="portada curso">
                    <div class="text-card-curso">
                        <h2>Curso JavaScript</h2>
                        <strong class="text-destacable-cards">Certificado </strong>
                        <strong class="text-destacable-cards">Disponible</strong>
                    </div>
                </a>
                <a href="#" class="card-curso" >
                    <img class="portada-curso" src="/assets/img/concepto-de-collage-html-y-css.jpg" alt="portada curso">
                    <div class="text-card-curso">
                        <h2>Curso JavaScript</h2>
                        <strong class="text-destacable-cards">Certificado</strong>
                        <strong class="text-destacable-cards">Cupo Limitado</strong>
                    </div>
                </a>
          </section>
        </div>
    </section>
    <footer-global></footer-global>
    <script type="module" src="/js/app.js"></script>
    <script>
        // Limpieza de datos automáticos generados en versiones anteriores
        // Ejecutar solo una vez para limpiar cursos, módulos y lecciones que se creaban automáticamente
        const cleanupVersion = 'v1.1-cleanup';
        const lastCleanup = localStorage.getItem('lastCleanup');
        
        if (lastCleanup !== cleanupVersion) {
            // Obtener datos actuales
            let cursos = JSON.parse(localStorage.getItem('cursos') || '[]');
            let modulos = JSON.parse(localStorage.getItem('modulos') || '[]');
            let lecciones = JSON.parse(localStorage.getItem('lecciones') || '[]');
            let profesores = JSON.parse(localStorage.getItem('profesores') || '[]');
            
            // Convertir a arrays si son objetos
            if (!Array.isArray(cursos)) cursos = Object.values(cursos || {});
            if (!Array.isArray(modulos)) modulos = Object.values(modulos || {});
            if (!Array.isArray(lecciones)) lecciones = Object.values(lecciones || {});
            if (!Array.isArray(profesores)) profesores = Object.values(profesores || {});
            const profesoresDefaultEmails = [
                'juan.martinez@lms.edu',
                'sofia.garcia@lms.edu',
                'roberto.lopez@lms.edu',
                'maria.rodriguez@lms.edu',
                'carlos.fernandez@lms.edu'
            ];
            
            cursos = cursos.filter(c => !profesoresDefaultEmails.includes(c.docente));
            
            // Limpiar módulos sin cursos válidos
            modulos = modulos.filter(m => 
                cursos.some(c => c && c.codigo === m.cursoCodigo)
            );
            
            // Limpiar lecciones sin módulos válidos
            lecciones = lecciones.filter(l => 
                modulos.some(m => m && m.codigo === l.moduloCodigo)
            );
            
            // Guardar datos limpios
            localStorage.setItem('cursos', JSON.stringify(cursos));
            localStorage.setItem('modulos', JSON.stringify(modulos));
            localStorage.setItem('lecciones', JSON.stringify(lecciones));
            localStorage.setItem('lastCleanup', cleanupVersion);
            
            console.log('Datos limpiados. Cursos, módulos y lecciones automáticos removidos.');
        }
    </script>